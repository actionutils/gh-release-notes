{#- Include optional header content -#}
{% include ['header.md.jinja', 'header.md'] ignore missing %}

## What's Changed by Label

{#- Include optional body content -#}
{% include ['body.md.jinja', 'body.md'] ignore missing %}

{# If there are labeled PRs, render sections per label, then optionally Unlabeled. Otherwise, list unlabeled without a header. #}
{%- if (pullRequestsByLabel.labels | length) > 0 %}
{%- for label in pullRequestsByLabel.labels %}

### {{ label }}
{%- set numbers = pullRequestsByLabel.labels[label] %}
{%- if (numbers | length) >= 5 %}

<details>
<summary>Show all {{ numbers | length }} items</summary>

{% for n in numbers %}
{%- set pr = pullRequests[n|string] %}
- {{ pr.title }} by @{{ pr.author.login }} in [#{{ pr.number }}]({{ pr.url }}) ($\textsf{\color{ #3fb950}{\textsf{+{{ pr.additions }}}}\color{ #f85149}{\textsf{ -{{ pr.deletions }}}}}$)
{%- endfor %}

</details>
{%- else %}
{%- for n in numbers %}
{%- set pr = pullRequests[n|string] %}
- {{ pr.title }} by @{{ pr.author.login }} in [#{{ pr.number }}]({{ pr.url }}) ($\textsf{\color{ #3fb950}{\textsf{+{{ pr.additions }}}}\color{ #f85149}{\textsf{ -{{ pr.deletions }}}}}$)
{%- endfor %}
{%- endif %}
{%- endfor %}

{%- if pullRequestsByLabel.unlabeled and (pullRequestsByLabel.unlabeled | length) > 0 %}

### Unlabeled
{%- set numbers = pullRequestsByLabel.unlabeled %}
{%- if (numbers | length) >= 5 %}

<details>
<summary>Show all {{ numbers | length }} items</summary>

{% for n in numbers %}
{%- set pr = pullRequests[n|string] %}
- {{ pr.title }} by @{{ pr.author.login }} in [#{{ pr.number }}]({{ pr.url }}) ($\textsf{\color{ #3fb950}{\textsf{+{{ pr.additions }}}}\color{ #f85149}{\textsf{ -{{ pr.deletions }}}}}$)
{%- endfor %}

</details>
{%- else %}
{%- for n in numbers %}
{%- set pr = pullRequests[n|string] %}
- {{ pr.title }} by @{{ pr.author.login }} in [#{{ pr.number }}]({{ pr.url }}) ($\textsf{\color{ #3fb950}{\textsf{+{{ pr.additions }}}}\color{ #f85149}{\textsf{ -{{ pr.deletions }}}}}$)
{%- endfor %}
{%- endif %}
{%- endif %}
{%- else %}
{%- set numbers = pullRequestsByLabel.unlabeled %}
{%- if (numbers | length) >= 5 %}

<details>
<summary>Show all {{ numbers | length }} items</summary>

{% for n in numbers %}
{%- set pr = pullRequests[n|string] %}
- {{ pr.title }} by @{{ pr.author.login }} in [#{{ pr.number }}]({{ pr.url }}) ($\textsf{\color{ #3fb950}{\textsf{+{{ pr.additions }}}}\color{ #f85149}{\textsf{ -{{ pr.deletions }}}}}$)
{%- endfor %}

</details>
{%- else %}
{%- for n in numbers %}
{%- set pr = pullRequests[n|string] %}

- {{ pr.title }} by @{{ pr.author.login }} in [#{{ pr.number }}]({{ pr.url }}) ($\textsf{\color{ #3fb950}{\textsf{+{{ pr.additions }}}}\color{ #f85149}{\textsf{ -{{ pr.deletions }}}}}$)
{%- endfor %}
{%- endif %}
{%- endif %}
{%- if newContributors | length > 0 %}

## New Contributors
{%- for contributor in newContributors %}
{%- set n = contributor.firstPullRequest %}
{%- set pr = pullRequests[n|string] %}
- @{{ contributor.login }} made their first contribution in [#{{ pr.number }}]({{ pr.url }})
{%- endfor %}
{%- endif %}

{%- if contributors | length > 0 %}

## Contributors

<table>
  <tbody>
    <tr>
{%- for contributor in contributors %}
      <td align="center" valign="top" width="100">
        <a href="{{ contributor.url }}">
          <img src="https://wsrv.nl/?url={{ contributor.avatarUrl }}&w=64&h=64&mask=circle&fit=cover&maxage=1w" width="64px" alt="{{ contributor.login }}"/><br />
        </a>
        <sub>@{{ contributor.login }}{% if contributor.type == 'Bot' %}[bot]{% endif %}</sub>
        {%- if contributor.sponsorsListing %}
        <br><br>
        <a href="{{ contributor.sponsorsListing.url }}" title="Sponsor {{ contributor.login }}">
          <img src="https://img.shields.io/badge/-Sponsor-ea4aaa?style=for-the-badge&logo=github&logoColor=white" height="24" />
        </a>
        {%- endif %}
      </td>
{%- if loop.index % 6 == 0 and not loop.last %}
    </tr>
    <tr>
{%- endif %}
{%- endfor %}
    </tr>
  </tbody>
  </table>
{%- endif %}

**Full Changelog**: {{ fullChangelogLink }}{%- if pullRequestsSearchLink %} | [Pull Requests]({{ pullRequestsSearchLink }}){%- endif %}

{#- Include optional footer content -#}
{% include ['footer.md.jinja', 'footer.md'] ignore missing %}
